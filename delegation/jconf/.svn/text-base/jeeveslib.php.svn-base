<?php
include("passwords.php");
// Send an arbitrary string to the backend and get feedback.
function send_jeeves_string ($str) {
  $com = 'python cgi-bin/client.py --sendstr ' . $str;
  $line = exec($com, $retvals);
  return $retvals;
}

function check_logged(){
     global $_SESSION, $USERS;
     if (!array_key_exists($_SESSION["logged"],$USERS)) {
          header("Location: login.php");
     };
};

// Authenticate a user and a password in a given database.
function password_authenticate($db, $user, $password) {
  return ($USERS[$user]==$password);
}

function set_session_user($user) {
  $_SESSION["logged"] = $user;
}

function record_user_data($DATA) {
  global $_SESSION, $USERS;
  $_SESSION['name'] = $DATA['name'];
  $_SESSION['email'] = $DATA['email'];
  $_SESSION['username'] = $DATA['username'];
  $_SESSION['password'] = $DATA['password'];
  $_SESSION['status'] = $DATA['status'];

  $_SESSION["logged"] = $DATA['username'];
  $USERS[$DATA['username']] = $DATA['password'];
}
?>
